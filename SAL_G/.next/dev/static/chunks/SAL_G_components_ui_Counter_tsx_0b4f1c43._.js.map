{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/JasonAs/Music/SAl/SAL_G/components/ui/Counter.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useRef } from \"react\";\r\n\r\ninterface CounterProps {\r\n  value: string;\r\n  duration?: number;\r\n}\r\n\r\nexport default function Counter({ value, duration = 2000 }: CounterProps) {\r\n  const [count, setCount] = useState(0);\r\n  const ref = useRef<HTMLSpanElement>(null);\r\n  const isVisible = useIsVisible(ref);\r\n\r\n  const numericValue = parseInt(value.replace(/\\D/g, \"\"), 10);\r\n  const suffix = value.replace(/[0-9]/g, \"\");\r\n\r\n  useEffect(() => {\r\n    if (!isVisible) return;\r\n\r\n    let startTime: number | null = null;\r\n    const step = (timestamp: number) => {\r\n      if (!startTime) startTime = timestamp;\r\n      const progress = Math.min((timestamp - startTime) / duration, 1);\r\n      \r\n      const easeProgress = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress);\r\n      \r\n      setCount(Math.floor(easeProgress * numericValue));\r\n\r\n      if (progress < 1) {\r\n        window.requestAnimationFrame(step);\r\n      }\r\n    };\r\n\r\n    window.requestAnimationFrame(step);\r\n  }, [isVisible, numericValue, duration]);\r\n\r\n  return (\r\n    <span ref={ref} className=\"tabular-nums\">\r\n      {count}{suffix}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction useIsVisible(ref: React.RefObject<HTMLElement | null>) {\r\n  const [isIntersecting, setIntersecting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(([entry]) => {\r\n      if (entry.isIntersecting) {\r\n        setIntersecting(true);\r\n        observer.disconnect();\r\n      }\r\n    });\r\n\r\n    if (ref.current) observer.observe(ref.current);\r\n    \r\n    return () => observer.disconnect();\r\n  }, [ref]);\r\n\r\n  return isIntersecting;\r\n}"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AASe,SAAS,QAAQ,EAAE,KAAK,EAAE,WAAW,IAAI,EAAgB;;IACtE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iSAAQ,EAAC;IACnC,MAAM,MAAM,IAAA,+RAAM,EAAkB;IACpC,MAAM,YAAY,aAAa;IAE/B,MAAM,eAAe,SAAS,MAAM,OAAO,CAAC,OAAO,KAAK;IACxD,MAAM,SAAS,MAAM,OAAO,CAAC,UAAU;IAEvC,IAAA,kSAAS;6BAAC;YACR,IAAI,CAAC,WAAW;YAEhB,IAAI,YAA2B;YAC/B,MAAM;0CAAO,CAAC;oBACZ,IAAI,CAAC,WAAW,YAAY;oBAC5B,MAAM,WAAW,KAAK,GAAG,CAAC,CAAC,YAAY,SAAS,IAAI,UAAU;oBAE9D,MAAM,eAAe,aAAa,IAAI,IAAI,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK;oBAEhE,SAAS,KAAK,KAAK,CAAC,eAAe;oBAEnC,IAAI,WAAW,GAAG;wBAChB,OAAO,qBAAqB,CAAC;oBAC/B;gBACF;;YAEA,OAAO,qBAAqB,CAAC;QAC/B;4BAAG;QAAC;QAAW;QAAc;KAAS;IAEtC,qBACE,qTAAC;QAAK,KAAK;QAAK,WAAU;;YACvB;YAAO;;;;;;;AAGd;GAjCwB;;QAGJ;;;KAHI;AAmCxB,SAAS,aAAa,GAAwC;;IAC5D,MAAM,CAAC,gBAAgB,gBAAgB,GAAG,IAAA,iSAAQ,EAAC;IAEnD,IAAA,kSAAS;kCAAC;YACR,MAAM,WAAW,IAAI;0CAAqB,CAAC,CAAC,MAAM;oBAChD,IAAI,MAAM,cAAc,EAAE;wBACxB,gBAAgB;wBAChB,SAAS,UAAU;oBACrB;gBACF;;YAEA,IAAI,IAAI,OAAO,EAAE,SAAS,OAAO,CAAC,IAAI,OAAO;YAE7C;0CAAO,IAAM,SAAS,UAAU;;QAClC;iCAAG;QAAC;KAAI;IAER,OAAO;AACT;IAjBS"}}]
}